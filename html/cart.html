<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Cart â€¢ Plantoria</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" href="/img/icon.png">
</head>
<body>

  <nav class="navbar">
    <div class="nav-right">
        <a href="index.html"><img src="/img/logo.png" class="logo"></a>
    </div>

    <div class="nav-center">
        <a href="index.html">Home</a>
        <a href="indoor.html">Indoor</a>
        <a href="outdoor.html">Outdoor</a>
        <a href="accessories.html">Accessories</a>
    </div>

    <div class="nav-left">
        <a href="cart.html">
            <img src="/img/cart_logo.png" class="cart-icon">
        </a>
    </div>
</nav>


  <h2 style="text-align:center; margin:30px;">Your Cart </h2>
  <section class="cart-panel">
    <div class="cart-container">
      <div class="cart-item">
        <img src="" alt="">
        <div class="cart-info">
          <h3></h3>
          <p></p>
        </div>
        <button class="remove">Remove</button>
      </div>
    </div>

    <div class="cart-total">
      <h3>Total: <span>0 SAR</span></h3>
    </div>

  </section>



<script>

  function getCart() {
    var data = localStorage.getItem('cart');
    return data ? JSON.parse(data) : [];
  }

  function saveCart(c) { 
    localStorage.setItem('cart', JSON.stringify(c)); 
  }



  function changeQty(id, d) {
    var cart = getCart();

    for (var i = 0; i < cart.length; i++) {
      if (cart[i].id === id) {
        cart[i].qty += d;

        if (cart[i].qty <= 0) {
           cart.splice(i, 1); 
           }
        break;
      }
    }
    saveCart(cart);
    renderCart();
  }


  function removeItem(id) {
    var cart = getCart();
    var newCart = [];
    for (var i = 0; i < cart.length; i++) {
      if (cart[i].id !== id) newCart.push(cart[i]);
    }
    saveCart(newCart);
    renderCart();
  }


  function renderCart() {
    var cart = getCart();
    var wrap = document.querySelector('.cart-container');
    var totalEl = document.querySelector('.cart-total span');
    if (!wrap) return;

    <!--f cart is empty-->
    if (cart.length === 0) {
      wrap.innerHTML = '<p class="empty">Your cart is empty.</p>';      
      if (totalEl) totalEl.textContent = '0 SAR';
      return;
    }

    var html = '';
    var total = 0;
    for (var i = 0; i < cart.length; i++) {
      var it = cart[i];
      total += (parseFloat(it.price) * it.qty);
      html += ''
        + '<div class="cart-item" data-id="' + it.id + '">'
        +   '<img src="' + it.image + '" alt="' + it.name + '">'
        +   '<div class="cart-info">'
        +     '<h3>' + it.name + '</h3>'
        +     '<p>' + parseFloat(it.price).toFixed(2) + ' SAR</p>'
        +   '</div>'
        +   '<div style="display:flex;align-items:center;gap:8px">'
        +     '<button onclick="changeQty(\'' + it.id + '\',-1)">-</button>'
        +     '<span>' + it.qty + '</span>'
        +     '<button onclick="changeQty(\'' + it.id + '\',1)">+</button>'
        +   '</div>'
        +   '<button class="remove" onclick="removeItem(\'' + it.id + '\')">Remove</button>'
        + '</div>';
    }
    wrap.innerHTML = html;
    if (totalEl) totalEl.textContent = total.toFixed(2) + ' SAR';
  }



  renderCart();
</script>
</body>
</html>
